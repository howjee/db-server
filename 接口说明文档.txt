接口说明文档。
问题收集：
1. 充值/提现/赠送/分红时怎么向实际账号充钱/提现？
2. 修改订单的股票数目，这里不知道怎么处理？
3. 什么时候插入订单历史？下单的时候还是成交的时候还是都需要?
4. 密码的校验规则，以及校验。
5. 订单内容校验。
6. 订单历史未进行
7. KCB股票信息校验。

1.1 注册

1.2 登录
====type: post
====URL: localhost:3001/user/login
====header:
[{"key":"Content-Type","value":"application/json"}]
====request:
{
"identity_type":"phone",
"identifier":"13888888888",
"credential":"xxxxx"
}

====response：
eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E

1.3 修改密码

2.2 获取用户信息
====type: get
====URL: localhost:3001/user/info
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request: 无
====response：
用户信息

2.3 充值
====type: post
====URL: localhost:3001/user/recharge
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request: 
111 (要充的值)
====response：
success 或者 failure

2.4 提现
====type: post
====URL: localhost:3001/user/withdraw
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request: 
111 (要提现的值)
====response：
success 或者 failure

2.5 赠送
====type: post
====URL: localhost:3001/user/present
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request: 
111 (要赠送的值)
====response：
success 或者 failure

2.6 获取当前用户所有的股票订单
====type: get
====URL: localhost:3001/stock/all
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request: 无
====response：
{
"user_id":3,
"stock_number":"000063",
"stock_name":"中兴通讯",
"stock_price":28.19,
"strategy_mode":0,
"strategy_rate":8,
"margin":500,
"stop_loss_rate":33.83,
"stop_profit_rate":26.22,
"open_fee":7.2,
"delay_fee":15,
"auto_delay":1,
"current_count":100
}

2.7 获取当前用户指定股票的总额  
（本金总额，成交和未成交的股票都包括）
====type: post
====URL: localhost:3001/stock/sum_money
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request: 
000063  （股票代码）
====response：
500 或者 -1  （-1代表获取异常）

2.8 下单 
（新下的单状态为”未提交“，后续调用设置成交的接口修改状态）
====type: post
====URL: localhost:3001/stock/new
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request: 
{
"stock_number":"000063",
"stock_name":"中兴通讯",
"stock_price":28.19,
"strategy_mode":0,
"strategy_rate":8,
"margin":500,
"stop_loss_rate":33.83,
"stop_profit_rate":26.22,
"open_fee":7.2,
"delay_fee":15,
"auto_delay":1,
"current_count":100
}
====response：
success 或者 failure

2.9 修改订单的股票数目
（同时需要修改本金，在后台判断）
====type: post
====URL: localhost:3001/stock/update_current_count
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request: 
{
"id":1,
"current_count":100
}
(订单id和需要设置的值)
====response：
success 或者 failure
（失败的可能原因：余额不足或者这支股票的购买总额已经超出限定）

2.10 设置股票状态为”已成交“
（首先向money history表中插入两条记录代表扣除本金和建仓费，并从user表用户余额中扣除本金和建仓费，最后修改订单状态为已成交）
====type: post
====URL: localhost:3001/stock/set_order_done
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request: 
1  (订单id)
====response：
success 或者 failure
（失败的可能原因：状态已经为”已成交“或者订单查询失败）

2.11 修改订单的止损率
====type: post
====URL: localhost:3001/stock/update_stop_loss
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request: 
{
"id":1,
"stop_loss_rate":33.83
}
(订单id和需要设置的值)
====response：
success 或者 failure
（失败的可能原因：查询订单失败）

2.12 修改订单的止盈率
====type: post
====URL: localhost:3001/stock/update_stop_profit
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request: 
{
"id":1,
"stop_profit_rate":33.83
}
(订单id和需要设置的值)
====response：
success 或者 failure
（失败的可能原因：查询订单失败）

2.13 查询当前用户的订单历史记录
====type: get
====URL: localhost:3001/stockhistory/user
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request: 无
====response：
历史记录 

2.14 查询当前用户某个订单的订单历史记录
====type: post
====URL: localhost:3001/stockhistory/stock
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request:
1   (订单id)
====response：
历史记录 

2.15 创建新的订单历史记录。
？？？？？？？？？？？

2.16 KCB：创建新的KCB记录
====type: post
====URL: localhost:3001/KCBStock/new
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request:
{
	"name":"华山",
	"number":"09dd0",
	"inuse":1
}
====response：
success 或 failure

2.17 KCB: 更新KCB记录状态 
====type: post
====URL: localhost:3001/KCBStock/update_inuse
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request:
{
	"name":"华山",
	"inuse":0
}
====response：
success 或 failure

2.18 KCB：删除1条KCB记录
====type: post
====URL:localhost:3001/KCBStock/delete
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request:
华山
====response：
success 或 failure

2.19 KCB：查询所有KCB记录
====type: get
====URL:localhost:3001/KCBStock/all
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request:
(无)
====response：
[
    {
        "name": "大秦铁路",
        "number": "09920",
        "inuse": true,
        "update_time": "2019-10-05 13:32:26"
    },
    {
        "name": "华山",
        "number": "09dd0",
        "inuse": true,
        "update_time": "2019-10-05 13:38:04"
    }
]

2.20 KCB: 查询所有KCB numbers
====type: get
====URL:localhost:3001/KCBStock/numbers
====header:
[{"key":"Content-Type","value":"application/json"},
{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwiaWF0IjoxNTcxMDY1NjE2LCJzdWIiOiLmhZXlrrnpm6rmnZEiLCJpc3MiOiLmhZXlrrnpm6rmnZEiLCJleHAiOjE1NzEwNjkyMTZ9.6zSD8PZXVMK6sBZX92mjhp9TWRV-fk2i9PbCi9AMa6E"}]
====request:
(无)
====response：
09920 09dd0



